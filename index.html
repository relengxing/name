<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åå­—ç”Ÿæˆå™¨ - è®©çµæ„Ÿè§¦æ‰‹å¯åŠï¼Œä¸ºåˆ›æ„æ³¨å…¥çµé­‚</title>
    
    <!-- SEO ä¼˜åŒ– -->
    <meta name="description" content="å…è´¹åœ¨çº¿åå­—ç”Ÿæˆå™¨ï¼Œå†…ç½®7000+ä¸­æ–‡åå­—åº“ï¼Œæ”¯æŒ15+ç§è¯­è¨€/åœ°åŒºï¼Œä½¿ç”¨cnchar.jsç²¾å‡†è®¡ç®—ç¬”ç”»æ•°ï¼Œå¤šçº§æ’åºåŠŸèƒ½ã€‚ç”¨æ­£ç¡®æ‰“å¼€æ–¹å¼ä½¿ç”¨äººåå¤§å…¨ã€‚">
    <meta name="keywords" content="åå­—ç”Ÿæˆå™¨,ä¸­æ–‡åç”Ÿæˆ,è‹±æ–‡åç”Ÿæˆ,éšæœºåå­—,èµ·åå·¥å…·,åœ¨çº¿èµ·å,åå­—åº“,ç¬”ç”»è®¡ç®—,Faker.js,cnchar">
    <meta name="author" content="Name Generator">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <!-- éƒ¨ç½²åè¯·å°† name.relengxing.tech æ›¿æ¢ä¸ºä½ çš„ GitHub Pages åœ°å€ï¼šYOUR_USERNAME.github.io/REPO_NAME -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://name.relengxing.tech/">
    <meta property="og:title" content="åå­—ç”Ÿæˆå™¨ - è®©çµæ„Ÿè§¦æ‰‹å¯åŠ">
    <meta property="og:description" content="å…è´¹åœ¨çº¿åå­—ç”Ÿæˆå™¨ï¼Œæ”¯æŒä¸­æ–‡åå’Œè‹±æ–‡åç”Ÿæˆï¼Œå†…ç½®7000+ä¸­æ–‡åå­—åº“ï¼Œæ”¯æŒ15+ç§è¯­è¨€ï¼Œç²¾å‡†ç¬”ç”»è®¡ç®—ã€‚">
    <meta property="og:image" content="https://name.relengxing.tech/preview.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://name.relengxing.tech/">
    <meta property="twitter:title" content="åå­—ç”Ÿæˆå™¨ - è®©çµæ„Ÿè§¦æ‰‹å¯åŠ">
    <meta property="twitter:description" content="å…è´¹åœ¨çº¿åå­—ç”Ÿæˆå™¨ï¼Œæ”¯æŒä¸­æ–‡åå’Œè‹±æ–‡åç”Ÿæˆï¼Œå†…ç½®7000+åå­—åº“ã€‚">
    <meta property="twitter:image" content="https://name.relengxing.tech/preview.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" href="favicon.ico">
    
    <!-- Google Analytics -->
    <!-- éƒ¨ç½²åè¯·å°† G-XXXXXXXXXX æ›¿æ¢ä¸ºä½ çš„ Google Analytics Measurement ID -->
    <!-- è·å– IDï¼šhttps://analytics.google.com/ -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX');
    </script>
    
    <!-- ç™¾åº¦ç»Ÿè®¡ -->
    <!-- éƒ¨ç½²åè¯·å°† YOUR_BAIDU_TONGJI_ID æ›¿æ¢ä¸ºä½ çš„ç™¾åº¦ç»Ÿè®¡ ID -->
    <!-- è·å– IDï¼šhttps://tongji.baidu.com/ -->
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?YOUR_BAIDU_TONGJI_ID";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    
    <!-- Faker.js CDN - ä½¿ç”¨ ESM + importmap æ–¹å¼ - v10 -->
    <script type="importmap">
    {
        "imports": {
            "@faker-js/faker": "https://esm.sh/@faker-js/faker@10.0.0"
        }
    }
    </script>
    
    <!-- cnchar.js - ç”¨äºä¸­æ–‡å­—ç¬¦å¤„ç†å’Œç¬”ç”»è®¡ç®— -->
    <script src="https://cdn.jsdelivr.net/npm/cnchar/cnchar.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/cnchar/plugins/stroke/cnchar.stroke.min.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap');
        
        * {
            font-family: 'Noto Sans SC', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 50%, #8b5cf6 100%);
            min-height: 100vh;
        }

        /* Glassmorphism æ•ˆæœ */
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            transition: all 0.3s ease;
        }

        .glass-card:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.45);
        }

        .name-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            animation: fadeIn 0.5s ease-in;
            min-height: 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .btn-primary {
            background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(6, 182, 212, 0.4);
        }

        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        /* ä¿®å¤ select ä¸‹æ‹‰æ¡†æ ·å¼ */
        #sortType option, #sortType2 option, #sortType3 option {
            background: #1e293b;
            color: white;
        }

        #separator option {
            background: #1e293b;
            color: white;
        }

        #localeSelect option {
            background: #1e293b;
            color: white;
        }

        /* å¯ç¼–è¾‘æ–‡æœ¬æ¡†æ ·å¼ */
        #namesInput {
            min-height: 150px;
            resize: vertical;
        }
    </style>
</head>
<body class="p-6">
    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <div class="text-center mb-12 floating">
            <h1 class="text-5xl md:text-6xl font-bold text-white mb-4">
                âœ¨ éšæœºåå­—ç”Ÿæˆå™¨ âœ¨
            </h1>
            <p class="text-xl md:text-2xl text-white/90 font-light">
             ç”¨æ­£ç¡®æ‰“å¼€æ–¹å¼ä½¿ç”¨äººåå¤§å…¨
            </p>
        </div>

        <!-- Main Container -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Control Panel -->
            <div class="lg:col-span-1">
                <div class="glass rounded-3xl p-6 space-y-6">
                    <h2 class="text-2xl font-semibold text-white mb-4">âš™ï¸ æ§åˆ¶é¢æ¿</h2>
                    
                    <!-- ç”ŸæˆæŒ‰é’® -->
                    <button onclick="generateNames()" 
                            class="w-full btn-primary text-white font-semibold py-4 px-6 rounded-xl shadow-lg">
                        ğŸš€ å¼€å§‹ç”Ÿæˆ
                    </button>

                    <!-- è¯­è¨€/åœ°åŒº -->
                    <div>
                        <label class="block text-white font-medium mb-2">è¯­è¨€/åœ°åŒº</label>
                        <select id="localeSelect" class="w-full glass-card rounded-xl p-3 text-white focus:outline-none focus:ring-2 focus:ring-white/50">
                            <option value="zh_CN" selected>ğŸ‡¨ğŸ‡³ ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰</option>
                            <option value="en_US">ğŸ‡ºğŸ‡¸ è‹±æ–‡ï¼ˆç¾å›½ï¼‰</option>
                            <option value="en_GB">ğŸ‡¬ğŸ‡§ è‹±æ–‡ï¼ˆè‹±å›½ï¼‰</option>
                            <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æ–‡ï¼ˆæ—¥æœ¬ï¼‰</option>
                            <option value="ko">ğŸ‡°ğŸ‡· éŸ©æ–‡ï¼ˆéŸ©å›½ï¼‰</option>
                            <option value="fr">ğŸ‡«ğŸ‡· æ³•æ–‡ï¼ˆæ³•å›½ï¼‰</option>
                            <option value="de">ğŸ‡©ğŸ‡ª å¾·æ–‡ï¼ˆå¾·å›½ï¼‰</option>
                            <option value="es">ğŸ‡ªğŸ‡¸ è¥¿ç­ç‰™æ–‡</option>
                            <option value="it">ğŸ‡®ğŸ‡¹ æ„å¤§åˆ©æ–‡</option>
                            <option value="pt_BR">ğŸ‡§ğŸ‡· è‘¡è„ç‰™æ–‡ï¼ˆå·´è¥¿ï¼‰</option>
                            <option value="ru">ğŸ‡·ğŸ‡º ä¿„æ–‡ï¼ˆä¿„ç½—æ–¯ï¼‰</option>
                            <option value="ar">ğŸ‡¸ğŸ‡¦ é˜¿æ‹‰ä¼¯æ–‡</option>
                            <option value="tr">ğŸ‡¹ğŸ‡· åœŸè€³å…¶æ–‡</option>
                            <option value="vi">ğŸ‡»ğŸ‡³ è¶Šå—æ–‡</option>
                            <option value="th">ğŸ‡¹ğŸ‡­ æ³°æ–‡ï¼ˆæ³°å›½ï¼‰</option>
                        </select>
                    </div>

                    <!-- ç”Ÿæˆæ•°é‡ -->
                    <div>
                        <label class="block text-white font-medium mb-2">ç”Ÿæˆæ•°é‡</label>
                        <input type="number" id="count" value="10" min="1" max="100" 
                               class="w-full glass-card rounded-xl p-3 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50">
                    </div>

                    <!-- åˆ†éš”ç¬¦é€‰é¡¹ -->
                    <div>
                        <label class="block text-white font-medium mb-2">å¯¼å‡ºåˆ†éš”ç¬¦</label>
                        <select id="separator" class="w-full glass-card rounded-xl p-3 text-white focus:outline-none focus:ring-2 focus:ring-white/50">
                            <option value="newline">æ¢è¡Œ</option>
                            <option value="comma">é€—å· (,)</option>
                            <option value="dunhao">é¡¿å· (ã€)</option>
                            <option value="space">ç©ºæ ¼</option>
                            <option value="semicolon">åˆ†å· (;)</option>
                            <option value="tab">åˆ¶è¡¨ç¬¦ (Tab)</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Results Display -->
            <div class="lg:col-span-2">
                <div class="glass rounded-3xl p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold text-white">ğŸ“‹ ç”Ÿæˆç»“æœ</h2>
                        <button onclick="copyAll()" 
                                class="glass-card text-white px-4 py-2 rounded-lg hover:bg-white/20 transition">
                            ğŸ“‹ å¤åˆ¶å…¨éƒ¨
                        </button>
                    </div>
                    
                    <!-- å¯ç¼–è¾‘è¾“å…¥åŒºåŸŸ -->
                    <div class="mb-4">
                        <label class="block text-white font-medium mb-2">
                            è¾“å…¥æˆ–ç²˜è´´åå­—
                            <span class="text-white/70 text-sm font-normal">ï¼ˆæ”¯æŒæ™ºèƒ½è¯†åˆ«åˆ†éš”ç¬¦ï¼šä¸­æ–‡æ”¯æŒæ¢è¡Œ/ç©ºæ ¼/é€—å·/é¡¿å·ç­‰ï¼Œè‹±æ–‡æ”¯æŒæ¢è¡Œ/é€—å·/åˆ†å·ç­‰ï¼‰</span>
                        </label>
                        <textarea id="namesInput" 
                                  placeholder="å¯ä»¥åœ¨è¿™é‡Œç²˜è´´åå­—åˆ—è¡¨ï¼Œæ”¯æŒå¤šç§åˆ†éš”ç¬¦è‡ªåŠ¨è¯†åˆ«...&#10;&#10;ç¤ºä¾‹ï¼ˆä¸­æ–‡ï¼‰ï¼šå¼ ä¸‰,æå››ã€ç‹äº” åˆ˜å…­&#10;ç¤ºä¾‹ï¼ˆè‹±æ–‡ï¼‰ï¼šJohn Smith, Jane Doe; Bob Lee"
                                  class="w-full glass-card rounded-xl p-4 text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-white/50 font-mono"></textarea>
                    </div>

                    <!-- æ’åºæ§åˆ¶ -->
                    <div class="space-y-4 mb-4">
                        <label class="block text-white font-medium">æ’åºæ–¹å¼ï¼ˆå¯ç»„åˆå¤šç§æ’åºï¼‰</label>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                            <!-- ç¬¬ä¸€æ’åº -->
                            <div>
                                <label class="block text-white/80 text-sm mb-1">ç¬¬ä¸€æ’åº</label>
                                <select id="sortType" onchange="applySorting()" class="w-full glass-card rounded-xl p-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-white/50">
                                    <option value="none">æ— </option>
                                    <option value="alphabet">å­—æ¯é¡ºåº (A-Z)</option>
                                    <option value="alphabet-reverse">å­—æ¯å€’åº (Z-A)</option>
                                    <option value="stroke">ç¬”ç”»é¡ºåº (å°‘â†’å¤š)</option>
                                    <option value="stroke-reverse">ç¬”ç”»å€’åº (å¤šâ†’å°‘)</option>
                                    <option value="length">é•¿åº¦é¡ºåº (çŸ­â†’é•¿)</option>
                                    <option value="length-reverse">é•¿åº¦å€’åº (é•¿â†’çŸ­)</option>
                                </select>
                            </div>

                            <!-- ç¬¬äºŒæ’åº -->
                            <div>
                                <label class="block text-white/80 text-sm mb-1">ç¬¬äºŒæ’åº</label>
                                <select id="sortType2" onchange="applySorting()" class="w-full glass-card rounded-xl p-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-white/50">
                                    <option value="none">æ— </option>
                                    <option value="alphabet">å­—æ¯é¡ºåº (A-Z)</option>
                                    <option value="alphabet-reverse">å­—æ¯å€’åº (Z-A)</option>
                                    <option value="stroke">ç¬”ç”»é¡ºåº (å°‘â†’å¤š)</option>
                                    <option value="stroke-reverse">ç¬”ç”»å€’åº (å¤šâ†’å°‘)</option>
                                    <option value="length">é•¿åº¦é¡ºåº (çŸ­â†’é•¿)</option>
                                    <option value="length-reverse">é•¿åº¦å€’åº (é•¿â†’çŸ­)</option>
                                </select>
                            </div>

                            <!-- ç¬¬ä¸‰æ’åº -->
                            <div>
                                <label class="block text-white/80 text-sm mb-1">ç¬¬ä¸‰æ’åº</label>
                                <select id="sortType3" onchange="applySorting()" class="w-full glass-card rounded-xl p-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-white/50">
                                    <option value="none">æ— </option>
                                    <option value="alphabet">å­—æ¯é¡ºåº (A-Z)</option>
                                    <option value="alphabet-reverse">å­—æ¯å€’åº (Z-A)</option>
                                    <option value="stroke">ç¬”ç”»é¡ºåº (å°‘â†’å¤š)</option>
                                    <option value="stroke-reverse">ç¬”ç”»å€’åº (å¤šâ†’å°‘)</option>
                                    <option value="length">é•¿åº¦é¡ºåº (çŸ­â†’é•¿)</option>
                                    <option value="length-reverse">é•¿åº¦å€’åº (é•¿â†’çŸ­)</option>
                                </select>
                            </div>
                        </div>

                        <button onclick="applySorting()" 
                                class="w-full glass-card text-white font-medium py-2 px-4 rounded-xl hover:bg-white/20 transition">
                            âœ¨ åº”ç”¨æ’åº
                        </button>
                    </div>

                    <!-- å¡ç‰‡å±•ç¤ºåŒºåŸŸ -->
                    <div id="results" class="grid grid-cols-2 sm:grid-cols-5 md:grid-cols-8 lg:grid-cols-10 gap-2 max-h-[400px] overflow-y-auto pr-2">
                        <div class="col-span-full text-center text-white/60 py-12">
                            ç‚¹å‡»"å¼€å§‹ç”Ÿæˆ"æŒ‰é’®æ¥åˆ›å»ºåå­—ï¼Œæˆ–åœ¨ä¸Šæ–¹è¾“å…¥æ¡†ä¸­ç²˜è´´åå­—
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å‹æƒ…é“¾æ¥ -->
        <div class="mt-12">
            <div class="glass rounded-3xl p-6">
                <h2 class="text-xl font-semibold text-white mb-4 text-center">ğŸ”— å‹æƒ…é“¾æ¥</h2>
                <div class="flex flex-wrap justify-center gap-4">
                    <a href="https://tool.relengxing.tech/" target="_blank" rel="noopener noreferrer" 
                       class="glass-card rounded-xl px-6 py-3 text-white hover:bg-white/20 transition inline-block">
                        ğŸ› ï¸ å·¥å…·é›†åˆç«™
                    </a>
                    <a href="https://handwrite.relengxing.tech/" target="_blank" rel="noopener noreferrer" 
                       class="glass-card rounded-xl px-6 py-3 text-white hover:bg-white/20 transition inline-block">
                        âœï¸ æ‰‹å†™æ–‡æœ¬ç”Ÿæˆå™¨
                    </a>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="mt-8 text-center text-white/70 text-sm">
            <p>Â© 2025 åå­—ç”Ÿæˆå™¨ | è®©çµæ„Ÿè§¦æ‰‹å¯åŠï¼Œä¸ºåˆ›æ„æ³¨å…¥çµé­‚</p>
        </footer>
    </div>

    <!-- Faker.js Module Script -->
    <script type="module">
        // å¯¼å…¥ Faker.js çš„æ‰€æœ‰ locale
        import { faker, fakerZH_CN, fakerJA, fakerKO, fakerFR, fakerDE, fakerES, fakerIT, fakerPT_BR, fakerRU, fakerAR, fakerTR, fakerVI, fakerTH, fakerEN, fakerEN_GB } from '@faker-js/faker';
        
        // å°† faker å®ä¾‹æŒ‚è½½åˆ° window å¯¹è±¡ï¼Œä¾›å…¶ä»–å‡½æ•°ä½¿ç”¨
        window.fakerInstances = {
            'zh_CN': fakerZH_CN,
            'en_US': fakerEN || faker,
            'en_GB': fakerEN_GB,
            'ja': fakerJA,
            'ko': fakerKO,
            'fr': fakerFR,
            'de': fakerDE,
            'es': fakerES,
            'it': fakerIT,
            'pt_BR': fakerPT_BR,
            'ru': fakerRU,
            'ar': fakerAR,
            'tr': fakerTR,
            'vi': fakerVI,
            'th': fakerTH
        };
        
        console.log('âœ… Faker.js åŠ è½½æˆåŠŸï¼');
        console.log('å¯ç”¨çš„ locales:', Object.keys(window.fakerInstances));
        
        // è§¦å‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼Œé€šçŸ¥é¡µé¢ Faker å·²å‡†å¤‡å¥½
        window.dispatchEvent(new Event('fakerReady'));
    </script>

    <script>
        // åå­—åº“æ•°æ®
        let chineseNamesLibrary = [];
        let englishNamesLibrary = [];
        let isLibraryLoaded = false;

        // ç™¾å®¶å§“å‰200ï¼ˆç”¨äºä¸­æ–‡åå­—ç”Ÿæˆçš„å¤‡ç”¨æ–¹æ¡ˆï¼‰
        const chineseSurnames = [
            'ç‹', 'æ', 'å¼ ', 'åˆ˜', 'é™ˆ', 'æ¨', 'é»„', 'èµµ', 'å‘¨', 'å´',
            'å¾', 'å­™', 'é©¬', 'æœ±', 'èƒ¡', 'éƒ­', 'ä½•', 'æ—', 'é«˜', 'ç½—',
            'éƒ‘', 'æ¢', 'è°¢', 'å®‹', 'å”', 'è®¸', 'éŸ©', 'å†¯', 'é‚“', 'æ›¹',
            'å½­', 'æ›¾', 'è‚–', 'ç”°', 'è‘£', 'è¢', 'æ½˜', 'äº', 'è’‹', 'è”¡',
            'ä½™', 'æœ', 'å¶', 'ç¨‹', 'è‹', 'é­', 'å•', 'ä¸', 'ä»»', 'æ²ˆ',
            'å§š', 'å¢', 'å§œ', 'å´”', 'é’Ÿ', 'è°­', 'é™†', 'æ±ª', 'èŒƒ', 'é‡‘',
            'çŸ³', 'å»–', 'è´¾', 'å¤', 'éŸ¦', 'ä»˜', 'æ–¹', 'ç™½', 'é‚¹', 'å­Ÿ',
            'ç†Š', 'ç§¦', 'é‚±', 'æ±Ÿ', 'å°¹', 'è–›', 'é—«', 'æ®µ', 'é›·', 'ä¾¯',
            'é¾™', 'å²', 'é™¶', 'é»', 'è´º', 'é¡¾', 'æ¯›', 'éƒ', 'é¾š', 'é‚µ',
            'ä¸‡', 'é’±', 'ä¸¥', 'è¦ƒ', 'æ­¦', 'æˆ´', 'è«', 'å­”', 'å‘', 'å¸¸'
        ];

        const chineseGivenNames = [
            'ä¼Ÿ', 'èŠ³', 'å¨œ', 'ç§€è‹±', 'æ•', 'é™', 'ä¸½', 'å¼º', 'ç£Š', 'å†›',
            'æ´‹', 'å‹‡', 'è‰³', 'æ¶›', 'æ˜', 'è¶…', 'ç§€å…°', 'éœ', 'å¹³', 'åˆš',
            'æ¡‚è‹±', 'å»ºå', 'ç§€ç', 'å»ºå›½', 'æµ·ç‡•', 'ç§€äº‘', 'å¿—å¼º', 'ç§€æ¢…', 'ç§€èŠ³', 'ä¸½å¨Ÿ',
            'å»ºå†›', 'ç§€è£', 'ç‰å…°', 'å›½å¼º', 'ç‰æ¢…', 'ç‰ç', 'æ¡‚å…°', 'å»ºå¹³', 'æ¡‚ç', 'æµ·ç‡•',
            'é›ªæ¢…', 'æ˜¥æ¢…', 'ä¸½ä¸½', 'æ¡‚èŠ³', 'ç‰å', 'æ¡‚è£', 'æµ·è‹±', 'æ–‡', 'æ¡‚é¦™', 'çº¢æ¢…',
            'ç²', 'ç‡•', 'å', 'ç³', 'é›ª', 'å©·', 'æ´', 'è', 'å‡¤', 'å…°',
            'æµ©', 'å®‡', 'æ¬£', 'æ™¨', 'é˜³', 'å˜‰', 'ç¿', 'ç‘', 'æ³½', 'è½©',
            'ä½³ä¸½', 'æµ©ç„¶', 'é›¨è±', 'æ€è¿œ', 'ç´«æ¶µ', 'é›¨è½©', 'å­è½©', 'æ¢“è½©', 'å®‡è½©', 'æ€çª',
            'è¯—æ¶µ', 'æ¬£æ€¡', 'å­æ¶µ', 'é›¨å½¤', 'æ€é›¨', 'æ¢“æ¶µ', 'é›¨æ¡', 'æ€è¾°', 'é›¨æ™¨', 'æ€é¢–',
            'å­å¢¨', 'æ€è¯­', 'æ¢“è±', 'é›¨æ³½', 'æ€å©·', 'å­ç‘œ', 'æ€ç¾½', 'é›¨æ¡¦', 'æ€è•Š', 'é›¨è–‡',
            'æµ©å®‡', 'ä¿Šæ°', 'å¤©ç¿Š', 'åšæ–‡', 'æ¢“è±ª', 'çš“è½©', 'å­ç¿', 'ä¿Šç†™', 'å®‡èˆª', 'ç…œç¥º',
            'æ™ºè¾‰', 'æ­£è±ª', 'æ˜Šç„¶', 'æ˜è½©', 'å¥æŸ', 'é¹ç…Š', 'æ“å®‡', 'è‡´è¿œ', 'é¸¿ç…Š', 'å¤©ç£Š'
        ];

        let generatedNames = [];
        
        // åŠ è½½åå­—åº“
        async function loadNameLibrary() {
            try {
                // åŠ è½½ä¸­æ–‡åå­—åº“
                const chineseResponse = await fetch('names/chinese_names.txt');
                const chineseText = await chineseResponse.text();
                chineseNamesLibrary = chineseText.split('\n')
                    .map(name => name.trim())
                    .filter(name => name.length > 0 && name.length <= 10);
                
                console.log(`âœ… å·²åŠ è½½ ${chineseNamesLibrary.length} ä¸ªä¸­æ–‡åå­—`);
                
                // åŠ è½½è‹±æ–‡åå­—åº“
                try {
                    const englishResponse = await fetch('names/english_names.txt');
                    const englishText = await englishResponse.text();
                    englishNamesLibrary = englishText.split('\n')
                        .map(name => name.trim())
                        .filter(name => name.length > 0);
                    console.log(`âœ… å·²åŠ è½½ ${englishNamesLibrary.length} ä¸ªè‹±æ–‡åå­—`);
                } catch (e) {
                    console.log('âš ï¸ è‹±æ–‡åå­—åº“åŠ è½½å¤±è´¥ï¼Œå°†ä½¿ç”¨ Faker.js');
                }
                
                isLibraryLoaded = true;
            } catch (error) {
                console.error('âŒ åå­—åº“åŠ è½½å¤±è´¥:', error);
                isLibraryLoaded = false;
            }
        }

        // æ ¹æ® locale è·å– Faker å®ä¾‹
        function getFakerByLocale(locale) {
            // æ£€æŸ¥ fakerInstances æ˜¯å¦å·²åŠ è½½
            if (!window.fakerInstances) {
                console.log('âš ï¸ Faker.js å°šæœªåŠ è½½ï¼Œè¯·ç¨å€™...');
                return null;
            }
            
            try {
                // ç›´æ¥ä» window.fakerInstances è·å–å¯¹åº”çš„å®ä¾‹
                const fakerInstance = window.fakerInstances[locale];
                
                if (fakerInstance) {
                    console.log(`âœ… æˆåŠŸè·å– ${locale} faker å®ä¾‹`);
                    return fakerInstance;
                } else {
                    console.log(`âš ï¸ Locale ${locale} ä¸å¯ç”¨ï¼Œä½¿ç”¨è‹±æ–‡`);
                    return window.fakerInstances['en_US'] || window.fakerInstances['en_GB'];
                }
            } catch (e) {
                console.log('âŒ Faker è·å–å¤±è´¥:', e);
                return null;
            }
        }

        // ç”Ÿæˆä¸­æ–‡åå­— - ä¼˜å…ˆä»åå­—åº“é€‰æ‹©ï¼Œç¡®ä¿å¤šæ ·æ€§
        function generateChineseName() {
            // å¦‚æœåå­—åº“å·²åŠ è½½ä¸”æœ‰è¶³å¤Ÿæ•°æ®ï¼Œä»ä¸­éšæœºé€‰æ‹©
            if (isLibraryLoaded && chineseNamesLibrary.length > 0) {
                const randomIndex = Math.floor(Math.random() * chineseNamesLibrary.length);
                return chineseNamesLibrary[randomIndex];
            }
            
            // å¤‡ç”¨æ–¹æ¡ˆï¼šéšæœºç»„åˆç”Ÿæˆ
            const surname = chineseSurnames[Math.floor(Math.random() * chineseSurnames.length)];
            const givenName = chineseGivenNames[Math.floor(Math.random() * chineseGivenNames.length)];
            return surname + givenName;
        }

        // ç”Ÿæˆåå­—ï¼ˆæ”¯æŒå¤šè¯­è¨€ï¼‰- ä½¿ç”¨ Faker.js
        function generateNameByLocale(locale) {
            const fakerInstance = getFakerByLocale(locale);
            
            if (!fakerInstance) {
                // Faker æœªåŠ è½½ï¼Œä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ
                return generateChineseName();
            }
            
            try {
                // Faker.js 8.x ä½¿ç”¨ person å‘½åç©ºé—´
                const sex = Math.random() > 0.5 ? 'male' : 'female';
                
                // æ ¹æ®ä¸åŒè¯­è¨€ç”Ÿæˆåå­—
                if (locale === 'zh_CN') {
                    // ä¸­æ–‡åå­— - å®Œå…¨ä½¿ç”¨ä¼ ç»Ÿæ–¹æ³•ï¼ˆFaker çš„ä¸­æ–‡å§“æ°ä¸åœ¨ç™¾å®¶å§“ï¼‰
                    return generateChineseName();
                } else if (locale === 'ja') {
                    // æ—¥æ–‡åå­—
                    const firstName = fakerInstance.person.firstName();
                    const lastName = fakerInstance.person.lastName();
                    return `${lastName} ${firstName}`;
                } else if (locale === 'ko') {
                    // éŸ©æ–‡åå­—
                    const firstName = fakerInstance.person.firstName();
                    const lastName = fakerInstance.person.lastName();
                    return `${lastName} ${firstName}`;
                } else {
                    // è¥¿æ–¹åå­—ï¼ˆè‹±è¯­ã€æ³•è¯­ã€å¾·è¯­ç­‰ï¼‰
                    const firstName = fakerInstance.person.firstName(sex);
                    const lastName = fakerInstance.person.lastName();
                    
                    // éšæœºé€‰æ‹©ä¸åŒçš„åå­—é£æ ¼
                    const rand = Math.random();
                    if (rand < 0.7) {
                        // 70% æ ‡å‡†åå­—
                        return `${firstName} ${lastName}`;
                    } else if (rand < 0.85) {
                        // 15% å¸¦ä¸­é—´å
                        try {
                            const middleName = fakerInstance.person.middleName(sex);
                            return `${firstName} ${middleName} ${lastName}`;
                        } catch (e) {
                            return `${firstName} ${lastName}`;
                        }
                    } else {
                        // 15% ä½¿ç”¨å…¨åæ–¹æ³•
                        try {
                            return fakerInstance.person.fullName({ sex });
                        } catch (e) {
                            return `${firstName} ${lastName}`;
                        }
                    }
                }
            } catch (e) {
                console.log('Faker ç”Ÿæˆå¤±è´¥:', e, 'locale:', locale);
                // å¤‡ç”¨æ–¹æ¡ˆ
                return generateChineseName();
            }
        }

        // ç”Ÿæˆè‹±æ–‡åå­— - ä¿æŒå‘åå…¼å®¹
        function generateEnglishName() {
            return generateNameByLocale('en_US');
        }

        // æ™ºèƒ½è¯†åˆ«åˆ†éš”ç¬¦å¹¶è§£æåå­—
        function parseNames(inputText) {
            if (!inputText || inputText.trim().length === 0) {
                return [];
            }
            
            // ç®€åŒ–é€»è¾‘ï¼šç»Ÿä¸€å¤„ç†ï¼ŒåªæŒ‰ç‰¹æ®Šç¬¦å·å’Œæ¢è¡Œåˆ†å‰²ï¼Œä¿ç•™ç©ºæ ¼
            // åˆ†éš”ç¬¦ï¼šæ¢è¡Œã€åˆ†å·ã€é¡¿å·ã€ç«–çº¿ã€æ–œæ ã€åˆ¶è¡¨ç¬¦
            const names = inputText.split(/[\n\r;ï¼›\t|ï½œã€\/\\]+/)
                .map(name => name.trim())
                .filter(name => name.length > 0);
            
            return names;
        }

        // è®¡ç®—ç¬”ç”»æ•° - ä½¿ç”¨ cnchar.js åº“
        function getStrokeCount(name) {
            // æ£€æŸ¥ cnchar æ˜¯å¦å·²åŠ è½½
            if (typeof cnchar === 'undefined' || typeof cnchar.stroke === 'undefined') {
                console.warn('âš ï¸ cnchar åº“æœªåŠ è½½ï¼Œä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ');
                // å¤‡ç”¨æ–¹æ¡ˆï¼šç®€å•è®¡ç®—ï¼ˆæŒ‰å­—ç¬¦æ•°ä¼°ç®—ï¼‰
                return name.length * 8;
            }
            
            try {
                // ä½¿ç”¨ cnchar è®¡ç®—ç¬”ç”»æ•°
                // cnchar.stroke(str, 'count') è¿”å›æ€»ç¬”ç”»æ•°
                const strokeCount = cnchar.stroke(name, 'count');
                
                // å¦‚æœè¿”å›çš„æ˜¯æ•°ç»„ï¼ˆå¤šéŸ³å­—ç­‰æƒ…å†µï¼‰ï¼Œå–ç¬¬ä¸€ä¸ªå€¼
                if (Array.isArray(strokeCount)) {
                    return strokeCount.reduce((sum, count) => {
                        return sum + (typeof count === 'number' ? count : 0);
                    }, 0);
                }
                
                return typeof strokeCount === 'number' ? strokeCount : name.length * 8;
            } catch (error) {
                console.warn('âš ï¸ cnchar è®¡ç®—å¤±è´¥:', error);
                // å‡ºé”™æ—¶ä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ
                return name.length * 8;
            }
        }

        // æ’åºåå­— - æ”¯æŒå¤šçº§æ’åº
        function sortNames(names, sortTypes) {
            const sorted = [...names];
            
            // è¿‡æ»¤æ‰ 'none' ç±»å‹
            const validSortTypes = sortTypes.filter(type => type !== 'none');
            
            if (validSortTypes.length === 0) {
                return sorted;
            }
            
            return sorted.sort((a, b) => {
                for (let sortType of validSortTypes) {
                    let comparison = 0;
                    
                    switch(sortType) {
                        case 'alphabet':
                            comparison = a.localeCompare(b);
                            break;
                        case 'alphabet-reverse':
                            comparison = b.localeCompare(a);
                            break;
                        case 'stroke':
                            comparison = getStrokeCount(a) - getStrokeCount(b);
                            break;
                        case 'stroke-reverse':
                            comparison = getStrokeCount(b) - getStrokeCount(a);
                            break;
                        case 'length':
                            comparison = a.length - b.length;
                            break;
                        case 'length-reverse':
                            comparison = b.length - a.length;
                            break;
                    }
                    
                    // å¦‚æœå½“å‰æ’åºæœ‰ç»“æœï¼Œç›´æ¥è¿”å›
                    if (comparison !== 0) {
                        return comparison;
                    }
                    // å¦åˆ™ç»§ç»­ä¸‹ä¸€ä¸ªæ’åºæ¡ä»¶
                }
                return 0;
            });
        }

        // ç”Ÿæˆåå­— - æ”¹è¿›ç‰ˆï¼Œç¡®ä¿å»é‡åä»æœ‰è¶³å¤Ÿæ•°é‡
        function generateNames() {
            const locale = document.getElementById('localeSelect').value;
            const count = parseInt(document.getElementById('count').value);

            let names = new Set();
            let attempts = 0;
            const maxAttempts = count * 10; // æœ€å¤šå°è¯•æ¬¡æ•°ï¼Œé¿å…æ— é™å¾ªç¯

            // æŒç»­ç”Ÿæˆç›´åˆ°è¾¾åˆ°æ‰€éœ€æ•°é‡æˆ–è¾¾åˆ°æœ€å¤§å°è¯•æ¬¡æ•°
            while (names.size < count && attempts < maxAttempts) {
                const newName = generateNameByLocale(locale);
                names.add(newName);
                attempts++;
            }

            // å¦‚æœä»åå­—åº“é€‰æ‹©ä¸”åº“å¾ˆå¤§ï¼Œå¯ä»¥ç›´æ¥éšæœºé€‰æ‹©ä¸é‡å¤çš„
            if (locale === 'zh_CN' && isLibraryLoaded && chineseNamesLibrary.length > count * 2) {
                names.clear();
                const shuffled = [...chineseNamesLibrary].sort(() => Math.random() - 0.5);
                for (let i = 0; i < Math.min(count, shuffled.length); i++) {
                    names.add(shuffled[i]);
                }
            }

            // è½¬æ¢ä¸ºæ•°ç»„
            const namesArray = Array.from(names);

            // æ›´æ–°æ–‡æœ¬æ¡†
            document.getElementById('namesInput').value = namesArray.join('\n');
            
            // åº”ç”¨æ’åºå¹¶æ˜¾ç¤º
            applySorting();
            
            // æç¤ºç”¨æˆ·å®é™…ç”Ÿæˆçš„æ•°é‡
            if (namesArray.length < count) {
                showNotification(`ç”Ÿæˆäº† ${namesArray.length} ä¸ªä¸é‡å¤åå­—ï¼ˆè¦æ±‚ ${count} ä¸ªï¼‰`);
            }
        }

        // åº”ç”¨æ’åºï¼ˆä»æ–‡æœ¬æ¡†è¯»å–å†…å®¹ï¼‰
        function applySorting() {
            const inputText = document.getElementById('namesInput').value;
            
            // ä½¿ç”¨æ™ºèƒ½è§£æ
            const names = parseNames(inputText);
            
            if (names.length === 0) {
                document.getElementById('results').innerHTML = 
                    '<div class="col-span-full text-center text-white/60 py-12">è¯·è¾“å…¥æˆ–ç”Ÿæˆåå­—</div>';
                generatedNames = [];
                return;
            }

            // è·å–ä¸‰ä¸ªæ’åºæ¡ä»¶
            const sortType1 = document.getElementById('sortType').value;
            const sortType2 = document.getElementById('sortType2').value;
            const sortType3 = document.getElementById('sortType3').value;
            
            // æ’åºï¼ˆæ”¯æŒå¤šçº§æ’åºï¼‰
            generatedNames = sortNames(names, [sortType1, sortType2, sortType3]);

            // æ›´æ–°æ–‡æœ¬æ¡†æ˜¾ç¤ºæ’åºåçš„ç»“æœï¼ˆç”¨æ¢è¡Œåˆ†éš”ï¼Œä¿æŒä¸€è‡´æ€§ï¼‰
            document.getElementById('namesInput').value = generatedNames.join('\n');

            // æ˜¾ç¤ºç»“æœ
            displayResults();
        }

        // æ˜¾ç¤ºç»“æœ
        function displayResults() {
            const resultsDiv = document.getElementById('results');
            
            if (generatedNames.length === 0) {
                resultsDiv.innerHTML = '<div class="col-span-full text-center text-white/60 py-12">æš‚æ— ç»“æœ</div>';
                return;
            }

            resultsDiv.innerHTML = generatedNames.map((name, index) => `
                <div class="name-card rounded-lg p-2 shadow-md hover:shadow-lg transition cursor-pointer flex flex-col items-center justify-center" 
                     onclick="copyName('${name}')" 
                     title="ç‚¹å‡»å¤åˆ¶: ${name}">
                    <div class="text-xs text-gray-400 mb-0.5">#${index + 1}</div>
                    <div class="text-sm font-semibold text-gray-800 text-center break-all">${name}</div>
                </div>
            `).join('');
        }

        // å¤åˆ¶å•ä¸ªåå­—
        function copyName(name) {
            navigator.clipboard.writeText(name).then(() => {
                showNotification(`å·²å¤åˆ¶: ${name}`);
            });
        }

        // å¤åˆ¶å…¨éƒ¨
        function copyAll() {
            if (generatedNames.length === 0) {
                showNotification('æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹');
                return;
            }
            
            const separatorType = document.getElementById('separator').value;
            let separator = '\n';
            
            switch(separatorType) {
                case 'comma':
                    separator = ',';
                    break;
                case 'dunhao':
                    separator = 'ã€';
                    break;
                case 'space':
                    separator = ' ';
                    break;
                case 'semicolon':
                    separator = ';';
                    break;
                case 'tab':
                    separator = '\t';
                    break;
                default:
                    separator = '\n';
            }
            
            const text = generatedNames.join(separator);
            navigator.clipboard.writeText(text).then(() => {
                showNotification(`å·²å¤åˆ¶ ${generatedNames.length} ä¸ªåå­—`);
            });
        }

        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 glass rounded-xl p-4 text-white shadow-lg z-50 animate-pulse';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 2000);
        }

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.addEventListener('load', async () => {
            // åŠ è½½åå­—åº“
            await loadNameLibrary();
            
            // ç­‰å¾… Faker.js åŠ è½½å®Œæˆ
            if (window.fakerInstances) {
                initializeFaker();
            } else {
                window.addEventListener('fakerReady', initializeFaker);
            }
            
            // ç›‘å¬æ–‡æœ¬æ¡†å˜åŒ–ï¼Œå®æ—¶æ›´æ–°æ˜¾ç¤º
            const namesInput = document.getElementById('namesInput');
            let debounceTimer;
            namesInput.addEventListener('input', () => {
                clearTimeout(debounceTimer);
                debounceTimer = setTimeout(() => {
                    applySorting();
                }, 500);
            });
        });
        
        // åˆå§‹åŒ– Faker å¹¶æµ‹è¯•
        function initializeFaker() {
            console.log('=== Faker.js åŠ è½½æ£€æŸ¥ ===');
            console.log('window.fakerInstances:', typeof window.fakerInstances);
            
            if (window.fakerInstances) {
                console.log('âœ… å¯ç”¨çš„ locales:', Object.keys(window.fakerInstances).join(', '));
                
                // æµ‹è¯•å‡ ä¸ª locale
                ['zh_CN', 'en_US', 'ja', 'ko'].forEach(locale => {
                    const f = getFakerByLocale(locale);
                    if (f && f.person) {
                        try {
                            const testName = f.person.fullName();
                            console.log(`${locale} æµ‹è¯•: ${testName}`);
                        } catch (e) {
                            console.log(`${locale} æµ‹è¯•å¤±è´¥:`, e.message);
                        }
                    }
                });
            } else {
                console.log('âŒ Faker.js æœªèƒ½æ­£ç¡®åŠ è½½');
            }
            
            // æµ‹è¯• cnchar.js
            console.log('=== cnchar.js åŠ è½½æ£€æŸ¥ ===');
            if (typeof cnchar !== 'undefined' && typeof cnchar.stroke !== 'undefined') {
                console.log('âœ… cnchar.js å·²åŠ è½½');
                // æµ‹è¯•ç¬”ç”»è®¡ç®—
                const testNames = ['ç‹æ˜å', 'æå»ºå›½', 'John Smith'];
                testNames.forEach(name => {
                    const strokes = getStrokeCount(name);
                    console.log(`${name} çš„ç¬”ç”»æ•°: ${strokes}`);
                });
            } else {
                console.log('âŒ cnchar.js æœªèƒ½æ­£ç¡®åŠ è½½');
            }
        }
    </script>
</body>
</html>

