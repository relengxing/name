# 📚 中文名字库说明

本项目使用**双名字库**策略，同时维护两个中文名字库文件，程序会从两个文件中各取 50% 的名字。

---

## 📁 名字库文件

### 1. `chinese_names.txt` - 原始名字库
- **来源**：手工整理的真实名字
- **特点**：
  - 真实性高，都是实际使用的名字
  - 主要为三字名（姓+双字）
  - 约 6600+ 个名字
  - 姓氏分布自然

### 2. `chinese_names_enhanced.txt` - 增强版名字库
- **来源**：通过 `generate_names.py` 脚本生成
- **特点**：
  - 两字名（姓+单字）占 50%（5000个）
  - 三字名（姓+双字）占 50%（5000个）
  - 共 10,000 个名字
  - 大姓比例符合中国人口分布（前5大姓共占约23%）
  - 覆盖不同年代特征（70-80年代、90-00年代、10-20年代、文艺风格）
  - 单字名包含 300+ 个常用字
  - 双字名包含 200+ 个常用组合

### 3. `english_names.txt` - 英文名字库
- 英文名字列表
- 约 69 个名字

---

## 🎯 使用策略

### 生成名字时的逻辑

程序会按以下策略选择名字：

1. **50% 概率**从 `chinese_names.txt` 中随机选择
2. **50% 概率**从 `chinese_names_enhanced.txt` 中随机选择
3. 如果某个文件不存在或加载失败，则只使用另一个文件
4. 如果都加载失败，使用内置的备用生成方案

### 批量生成时的逻辑

当一次性生成多个名字时（如生成 100 个）：

1. **前 50 个**：从 `chinese_names.txt` 中随机选择（不重复）
2. **后 50 个**：从 `chinese_names_enhanced.txt` 中随机选择（不重复）
3. 这样确保两个库的名字都有均衡的代表性

---

## 📊 名字库特征对比

| 特征 | 原始库 | 增强版库 |
|------|--------|----------|
| **总数量** | ~6900 | ~10000 |
| **两字名比例** | ~5% | 50% |
| **三字名比例** | ~95% | 50% |
| **王李张刘陈** | 一般 | 高（符合人口比例） |
| **姓氏多样性** | 自然分布 | 加权分布 |
| **年代特征** | 混合 | 明确分类（4类） |
| **文件大小** | 75 KB | 93 KB |

---

## 🔄 更新名字库

### 更新原始库

直接编辑 `names/chinese_names.txt` 文件，每行一个名字：

```
王明华
李建国
张志强
...
```

### 更新增强版库

运行生成脚本：

```bash
# Windows (PowerShell)
$env:PYTHONIOENCODING="utf-8"; python generate_names.py

# Linux/Mac
PYTHONIOENCODING=utf-8 python generate_names.py
```

会生成新的 `names/chinese_names_enhanced.txt` 文件。

详细说明请查看：[doc/NAME_GENERATOR_SCRIPT.md](../doc/NAME_GENERATOR_SCRIPT.md)

---

## 💡 为什么使用双库策略？

### 优点

1. **保留原始数据**
   - 不丢失手工整理的真实名字
   - 可以随时回滚或调整

2. **互补特性**
   - 原始库：真实性高，自然分布
   - 增强库：两字名多，大姓比例高

3. **灵活性高**
   - 可以独立更新任一库
   - 可以调整混合比例
   - 某个库失效不影响另一个

4. **更好的多样性**
   - 总名字数更多（12000+）
   - 名字风格更丰富
   - 重复率更低

### 缺点

- 需要维护两个文件
- 文件体积略大（但仍是纯文本，可接受）

---

## 📈 统计信息

### 原始库统计
```
总数：6663 个
两字名：约 5%
三字名：约 95%
```

### 增强版库统计
```
总数：10000 个
两字名：50% (5000 个)
三字名：50% (5000 个)

前5大姓分布：
  张: 500 (5.00%)
  陈: 484 (4.84%)
  李: 473 (4.73%)
  王: 469 (4.69%)
  刘: 466 (4.66%)
```

### 合并后统计
```
总名字池：16900 个
理论两字名比例：约 32%
理论三字名比例：约 68%
大姓比例：更接近实际人口分布
```

---

## 🛠️ 自定义配置

### 修改混合比例

如果想调整两个库的混合比例，可以编辑 `index.html` 中的 `generateChineseName()` 函数：

```javascript
// 当前是 50-50 分布
if (Math.random() < 0.5) {
    // 从原始库选择
} else {
    // 从增强库选择
}

// 改为 30-70 分布（30% 原始库，70% 增强库）
if (Math.random() < 0.3) {
    // 从原始库选择
} else {
    // 从增强库选择
}
```

### 只使用一个库

如果只想使用一个库，可以：

**方法 1：删除不需要的文件**
- 删除 `chinese_names_enhanced.txt`，只保留 `chinese_names.txt`
- 或者反过来

**方法 2：修改代码**
- 在 `generateChineseName()` 函数中强制使用某个库

---

## 📖 相关文档

- [名字生成脚本说明](../doc/NAME_GENERATOR_SCRIPT.md) - 如何生成增强版名字库
- [使用说明](../doc/USAGE.md) - 网站功能使用指南

---

**享受多样化的名字生成体验！** ✨

